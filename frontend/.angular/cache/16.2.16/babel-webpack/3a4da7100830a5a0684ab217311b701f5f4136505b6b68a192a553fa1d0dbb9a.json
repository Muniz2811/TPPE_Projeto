{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/produto.service\";\nimport * as i3 from \"../../services/fabricante.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ProdutoFormComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Carregando dados...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProdutoFormComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ProdutoFormComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.successMessage, \" \");\n  }\n}\nfunction ProdutoFormComponent_form_7_div_5_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nome do produto \\u00E9 obrigat\\u00F3rio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_5_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nome deve ter pelo menos 2 caracteres\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_5_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nome deve ter no m\\u00E1ximo 100 caracteres\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ProdutoFormComponent_form_7_div_5_span_1_Template, 2, 0, \"span\", 29);\n    i0.ɵɵtemplate(2, ProdutoFormComponent_form_7_div_5_span_2_Template, 2, 0, \"span\", 29);\n    i0.ɵɵtemplate(3, ProdutoFormComponent_form_7_div_5_span_3_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r4.produtoForm.get(\"nome\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r4.produtoForm.get(\"nome\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r4.produtoForm.get(\"nome\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"maxlength\"]);\n  }\n}\nfunction ProdutoFormComponent_form_7_div_10_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Categoria \\u00E9 obrigat\\u00F3ria\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ProdutoFormComponent_form_7_div_10_span_1_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r5.produtoForm.get(\"categoria\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nfunction ProdutoFormComponent_form_7_div_15_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Valor de custo \\u00E9 obrigat\\u00F3rio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_15_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Valor de custo n\\u00E3o pode ser negativo\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ProdutoFormComponent_form_7_div_15_span_1_Template, 2, 0, \"span\", 29);\n    i0.ɵɵtemplate(2, ProdutoFormComponent_form_7_div_15_span_2_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r6.produtoForm.get(\"valor_custo\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r6.produtoForm.get(\"valor_custo\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"min\"]);\n  }\n}\nfunction ProdutoFormComponent_form_7_div_20_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Valor de venda \\u00E9 obrigat\\u00F3rio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_20_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Valor de venda n\\u00E3o pode ser negativo\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_20_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Valor de venda deve ser maior que o valor de custo\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ProdutoFormComponent_form_7_div_20_span_1_Template, 2, 0, \"span\", 29);\n    i0.ɵɵtemplate(2, ProdutoFormComponent_form_7_div_20_span_2_Template, 2, 0, \"span\", 29);\n    i0.ɵɵtemplate(3, ProdutoFormComponent_form_7_div_20_span_3_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r7.produtoForm.get(\"valor_venda\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r7.produtoForm.get(\"valor_venda\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"min\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.getVendaInferiorAoCusto());\n  }\n}\nfunction ProdutoFormComponent_form_7_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fabricante_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", fabricante_r21._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", fabricante_r21.nome, \" (\", fabricante_r21.razao_social, \") \");\n  }\n}\nfunction ProdutoFormComponent_form_7_div_28_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Fabricante \\u00E9 obrigat\\u00F3rio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProdutoFormComponent_form_7_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ProdutoFormComponent_form_7_div_28_span_1_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r9.produtoForm.get(\"fabr\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nfunction ProdutoFormComponent_form_7_span_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r10.isEditMode ? \"Atualizar\" : \"Cadastrar\", \" Produto\");\n  }\n}\nfunction ProdutoFormComponent_form_7_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"div\", 33);\n    i0.ɵɵtext(2, \" Salvando... \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"invalid\": a0\n  };\n};\nfunction ProdutoFormComponent_form_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function ProdutoFormComponent_form_7_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 13)(2, \"label\", 14);\n    i0.ɵɵtext(3, \"Nome do Produto *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 15);\n    i0.ɵɵtemplate(5, ProdutoFormComponent_form_7_div_5_Template, 4, 3, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13)(7, \"label\", 17);\n    i0.ɵɵtext(8, \"Categoria *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 18);\n    i0.ɵɵtemplate(10, ProdutoFormComponent_form_7_div_10_Template, 2, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"label\", 19);\n    i0.ɵɵtext(13, \"Pre\\u00E7o de Custo (R$) *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 20);\n    i0.ɵɵtemplate(15, ProdutoFormComponent_form_7_div_15_Template, 3, 2, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 13)(17, \"label\", 21);\n    i0.ɵɵtext(18, \"Pre\\u00E7o de Venda (R$) *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"input\", 22);\n    i0.ɵɵtemplate(20, ProdutoFormComponent_form_7_div_20_Template, 4, 3, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 13)(22, \"label\", 23);\n    i0.ɵɵtext(23, \"Fabricante *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"select\", 24)(25, \"option\", 25);\n    i0.ɵɵtext(26, \"Selecione um fabricante\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, ProdutoFormComponent_form_7_option_27_Template, 2, 3, \"option\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, ProdutoFormComponent_form_7_div_28_Template, 2, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 27)(30, \"button\", 28);\n    i0.ɵɵtemplate(31, ProdutoFormComponent_form_7_span_31_Template, 2, 1, \"span\", 29);\n    i0.ɵɵtemplate(32, ProdutoFormComponent_form_7_span_32_Template, 3, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ProdutoFormComponent_form_7_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.cancel());\n    });\n    i0.ɵɵtext(34, \"Cancelar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_9_0;\n    let tmp_11_0;\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.produtoForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ((tmp_1_0 = ctx_r3.produtoForm.get(\"nome\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r3.produtoForm.get(\"nome\")) == null ? null : tmp_1_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r3.produtoForm.get(\"nome\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r3.produtoForm.get(\"nome\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, ((tmp_3_0 = ctx_r3.produtoForm.get(\"categoria\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r3.produtoForm.get(\"categoria\")) == null ? null : tmp_3_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r3.produtoForm.get(\"categoria\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx_r3.produtoForm.get(\"categoria\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(19, _c0, ((tmp_5_0 = ctx_r3.produtoForm.get(\"valor_custo\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r3.produtoForm.get(\"valor_custo\")) == null ? null : tmp_5_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r3.produtoForm.get(\"valor_custo\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx_r3.produtoForm.get(\"valor_custo\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(21, _c0, ((tmp_7_0 = ctx_r3.produtoForm.get(\"valor_venda\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx_r3.produtoForm.get(\"valor_venda\")) == null ? null : tmp_7_0.touched) || ctx_r3.getVendaInferiorAoCusto()));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx_r3.produtoForm.get(\"valor_venda\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx_r3.produtoForm.get(\"valor_venda\")) == null ? null : tmp_8_0.touched) || ctx_r3.getVendaInferiorAoCusto());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(23, _c0, ((tmp_9_0 = ctx_r3.produtoForm.get(\"fabr\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx_r3.produtoForm.get(\"fabr\")) == null ? null : tmp_9_0.touched)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.fabricantes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx_r3.produtoForm.get(\"fabr\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx_r3.produtoForm.get(\"fabr\")) == null ? null : tmp_11_0.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.saving);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.saving);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.saving);\n  }\n}\nclass ProdutoFormComponent {\n  constructor(fb, produtoService, fabricanteService, route, router) {\n    this.fb = fb;\n    this.produtoService = produtoService;\n    this.fabricanteService = fabricanteService;\n    this.route = route;\n    this.router = router;\n    this.isEditMode = false;\n    this.produtoId = null;\n    this.loading = false;\n    this.saving = false;\n    this.error = '';\n    this.successMessage = '';\n    this.fabricantes = [];\n    this.produtoForm = this.createForm();\n  }\n  ngOnInit() {\n    this.carregarFabricantes();\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.isEditMode = true;\n        this.produtoId = params['id'];\n        this.carregarProduto(this.produtoId);\n      }\n    });\n  }\n  createForm() {\n    return this.fb.group({\n      nome: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(100)]],\n      valor_custo: ['', [Validators.required, Validators.min(0)]],\n      valor_venda: ['', [Validators.required, Validators.min(0)]],\n      categoria: ['', [Validators.required]],\n      fabr: ['', [Validators.required]]\n    });\n  }\n  carregarFabricantes() {\n    this.fabricanteService.getFabricantes().subscribe(response => {\n      if (response.success && Array.isArray(response.data)) {\n        this.fabricantes = response.data;\n      } else {\n        this.error = 'Erro ao carregar fabricantes. Alguns recursos podem estar indisponíveis.';\n        setTimeout(() => this.error = '', 3000);\n      }\n    });\n  }\n  carregarProduto(id) {\n    if (!id) return;\n    this.loading = true;\n    this.produtoService.getProduto(id).subscribe(response => {\n      this.loading = false;\n      if (response.success && response.data) {\n        const produto = response.data;\n        this.produtoForm.patchValue({\n          nome: produto.nome,\n          valor_custo: produto.valor_custo,\n          valor_venda: produto.valor_venda,\n          categoria: produto.categoria,\n          fabr: typeof produto.fabr === 'string' ? produto.fabr : produto.fabr._id\n        });\n      } else {\n        this.error = response.message || 'Erro ao carregar produto';\n        setTimeout(() => {\n          this.error = '';\n        }, 3000);\n      }\n    });\n  }\n  onSubmit() {\n    if (this.produtoForm.invalid) {\n      this.markFormGroupTouched(this.produtoForm);\n      return;\n    }\n    this.saving = true;\n    const produtoData = this.produtoForm.value;\n    if (this.isEditMode && this.produtoId) {\n      this.produtoService.updateProduto(this.produtoId, produtoData).subscribe(response => {\n        this.saving = false;\n        if (response.success) {\n          this.successMessage = 'Produto atualizado com sucesso!';\n          setTimeout(() => {\n            this.successMessage = '';\n            this.router.navigate(['/produtos']);\n          }, 2000);\n        } else {\n          this.error = response.message || 'Erro ao atualizar produto';\n          setTimeout(() => {\n            this.error = '';\n          }, 3000);\n        }\n      });\n    } else {\n      this.produtoService.createProduto(produtoData).subscribe(response => {\n        this.saving = false;\n        if (response.success) {\n          this.successMessage = 'Produto criado com sucesso!';\n          setTimeout(() => {\n            this.successMessage = '';\n            this.router.navigate(['/produtos']);\n          }, 2000);\n        } else {\n          this.error = response.message || 'Erro ao criar produto';\n          setTimeout(() => {\n            this.error = '';\n          }, 3000);\n        }\n      });\n    }\n  }\n  // Método para marcar todos os campos como touched para mostrar validações\n  markFormGroupTouched(formGroup) {\n    Object.keys(formGroup.controls).forEach(key => {\n      const control = formGroup.get(key);\n      control?.markAsTouched();\n    });\n  }\n  cancel() {\n    this.router.navigate(['/produtos']);\n  }\n  getVendaInferiorAoCusto() {\n    const valorCusto = this.produtoForm.get('valor_custo')?.value;\n    const valorVenda = this.produtoForm.get('valor_venda')?.value;\n    return valorVenda !== null && valorCusto !== null && valorVenda <= valorCusto;\n  }\n  static {\n    this.ɵfac = function ProdutoFormComponent_Factory(t) {\n      return new (t || ProdutoFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProdutoService), i0.ɵɵdirectiveInject(i3.FabricanteService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProdutoFormComponent,\n      selectors: [[\"app-produto-form\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"container\"], [1, \"header\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"success-message\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"back-link\"], [\"routerLink\", \"/produtos\"], [1, \"loading\"], [1, \"spinner\"], [1, \"error-message\"], [1, \"success-message\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"formControlName\", \"nome\", 3, \"ngClass\"], [\"class\", \"validation-error\", 4, \"ngIf\"], [\"for\", \"categoria\"], [\"type\", \"text\", \"id\", \"categoria\", \"formControlName\", \"categoria\", 3, \"ngClass\"], [\"for\", \"valor_custo\"], [\"type\", \"number\", \"id\", \"valor_custo\", \"formControlName\", \"valor_custo\", \"step\", \"0.01\", \"min\", \"0\", 3, \"ngClass\"], [\"for\", \"valor_venda\"], [\"type\", \"number\", \"id\", \"valor_venda\", \"formControlName\", \"valor_venda\", \"step\", \"0.01\", \"min\", \"0\", 3, \"ngClass\"], [\"for\", \"fabr\"], [\"id\", \"fabr\", \"formControlName\", \"fabr\", 3, \"ngClass\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [1, \"validation-error\"], [3, \"value\"], [1, \"spinner-small\"]],\n      template: function ProdutoFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(4, ProdutoFormComponent_div_4_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(5, ProdutoFormComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(6, ProdutoFormComponent_div_6_Template, 2, 1, \"div\", 4);\n          i0.ɵɵtemplate(7, ProdutoFormComponent_form_7_Template, 35, 25, \"form\", 5);\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"a\", 7);\n          i0.ɵɵtext(10, \"Voltar para lista de produtos\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isEditMode ? \"Editar\" : \"Novo\", \" Produto\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MinValidator, i1.FormGroupDirective, i1.FormControlName, i4.RouterLink],\n      styles: [\".container[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  font-family: Arial, sans-serif;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  margin-bottom: 25px;\\n}\\n\\n.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  color: #333;\\n  margin: 0;\\n  border-bottom: 2px solid #f0f0f0;\\n  padding-bottom: 10px;\\n}\\n\\nform[_ngcontent-%COMP%] {\\n  background-color: #fff;\\n  border-radius: 5px;\\n  padding: 20px;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  font-weight: bold;\\n  margin-bottom: 5px;\\n  color: #555;\\n}\\n\\ninput[_ngcontent-%COMP%], select[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n  font-size: 16px;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #3498db;\\n  box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);\\n}\\n\\ninput.invalid[_ngcontent-%COMP%], select.invalid[_ngcontent-%COMP%] {\\n  border-color: #e74c3c;\\n}\\n\\n.validation-error[_ngcontent-%COMP%] {\\n  color: #e74c3c;\\n  font-size: 14px;\\n  margin-top: 5px;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 10px;\\n  margin-top: 30px;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  border: none;\\n  border-radius: 4px;\\n  padding: 10px 20px;\\n  font-weight: bold;\\n  transition: background-color 0.3s, transform 0.1s;\\n}\\n\\nbutton[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.7;\\n  cursor: not-allowed;\\n}\\n\\nbutton[_ngcontent-%COMP%]:active:not(:disabled) {\\n  transform: scale(0.98);\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #3498db;\\n  color: white;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background-color: #2980b9;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #95a5a6;\\n  color: white;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #7f8c8d;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  margin: 30px 0;\\n}\\n\\n.spinner[_ngcontent-%COMP%] {\\n  border: 4px solid rgba(0, 0, 0, 0.1);\\n  width: 36px;\\n  height: 36px;\\n  border-radius: 50%;\\n  border-left-color: #3498db;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin-bottom: 10px;\\n}\\n\\n.spinner-small[_ngcontent-%COMP%] {\\n  border: 2px solid rgba(255, 255, 255, 0.3);\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  border-left-color: #ffffff;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  display: inline-block;\\n  vertical-align: middle;\\n  margin-right: 5px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  padding: 10px;\\n  background-color: #ffebee;\\n  color: #c62828;\\n  border-radius: 4px;\\n  margin-bottom: 20px;\\n}\\n\\n.success-message[_ngcontent-%COMP%] {\\n  padding: 10px;\\n  background-color: #e8f5e9;\\n  color: #2e7d32;\\n  border-radius: 4px;\\n  margin-bottom: 20px;\\n}\\n\\n.back-link[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  text-align: center;\\n}\\n\\n.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #3498db;\\n  text-decoration: none;\\n}\\n\\n.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHV0b3MvcHJvZHV0by1mb3JtL3Byb2R1dG8tZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxhQUFhO0VBQ2IsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFdBQVc7RUFDWCxTQUFTO0VBQ1QsZ0NBQWdDO0VBQ2hDLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixxQkFBcUI7RUFDckIsMkNBQTJDO0FBQzdDOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixTQUFTO0VBQ1QsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixpREFBaUQ7QUFDbkQ7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usb0NBQW9DO0VBQ3BDLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLDBCQUEwQjtFQUMxQixrQ0FBa0M7RUFDbEMsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsMENBQTBDO0VBQzFDLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLDBCQUEwQjtFQUMxQixrQ0FBa0M7RUFDbEMscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxLQUFLLHVCQUF1QixFQUFFO0VBQzlCLE9BQU8seUJBQXlCLEVBQUU7QUFDcEM7O0FBRUE7RUFDRSxhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsMEJBQTBCO0FBQzVCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XG4gIG1heC13aWR0aDogODAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiAyMHB4O1xuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG59XG5cbi5oZWFkZXIge1xuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xufVxuXG4uaGVhZGVyIGgyIHtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBjb2xvcjogIzMzMztcbiAgbWFyZ2luOiAwO1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZjBmMDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5cbmZvcm0ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5mb3JtLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxubGFiZWwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgY29sb3I6ICM1NTU7XG59XG5cbmlucHV0LCBzZWxlY3Qge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbmlucHV0OmZvY3VzLCBzZWxlY3Q6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXItY29sb3I6ICMzNDk4ZGI7XG4gIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSg1MiwgMTUyLCAyMTksIDAuMyk7XG59XG5cbmlucHV0LmludmFsaWQsIHNlbGVjdC5pbnZhbGlkIHtcbiAgYm9yZGVyLWNvbG9yOiAjZTc0YzNjO1xufVxuXG4udmFsaWRhdGlvbi1lcnJvciB7XG4gIGNvbG9yOiAjZTc0YzNjO1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLmZvcm0tYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGdhcDogMTBweDtcbiAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuYnV0dG9uIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzLCB0cmFuc2Zvcm0gMC4xcztcbn1cblxuYnV0dG9uOmRpc2FibGVkIHtcbiAgb3BhY2l0eTogMC43O1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG5idXR0b246YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbn1cblxuLmJ0bi1wcmltYXJ5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThkYjtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uYnRuLXByaW1hcnk6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjk4MGI5O1xufVxuXG4uYnRuLXNlY29uZGFyeSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM5NWE1YTY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmJ0bi1zZWNvbmRhcnk6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2Y4YzhkO1xufVxuXG4ubG9hZGluZyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMzBweCAwO1xufVxuXG4uc3Bpbm5lciB7XG4gIGJvcmRlcjogNHB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgd2lkdGg6IDM2cHg7XG4gIGhlaWdodDogMzZweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBib3JkZXItbGVmdC1jb2xvcjogIzM0OThkYjtcbiAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLnNwaW5uZXItc21hbGwge1xuICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7XG4gIHdpZHRoOiAxNnB4O1xuICBoZWlnaHQ6IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYm9yZGVyLWxlZnQtY29sb3I6ICNmZmZmZmY7XG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbn1cblxuLmVycm9yLW1lc3NhZ2Uge1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlYmVlO1xuICBjb2xvcjogI2M2MjgyODtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uc3VjY2Vzcy1tZXNzYWdlIHtcbiAgcGFkZGluZzogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjVlOTtcbiAgY29sb3I6ICMyZTdkMzI7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmJhY2stbGluayB7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmJhY2stbGluayBhIHtcbiAgY29sb3I6ICMzNDk4ZGI7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuLmJhY2stbGluayBhOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { ProdutoFormComponent };","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","error","ctx_r2","successMessage","ɵɵtemplate","ProdutoFormComponent_form_7_div_5_span_1_Template","ProdutoFormComponent_form_7_div_5_span_2_Template","ProdutoFormComponent_form_7_div_5_span_3_Template","ɵɵproperty","tmp_0_0","ctx_r4","produtoForm","get","errors","tmp_1_0","tmp_2_0","ProdutoFormComponent_form_7_div_10_span_1_Template","ctx_r5","ProdutoFormComponent_form_7_div_15_span_1_Template","ProdutoFormComponent_form_7_div_15_span_2_Template","ctx_r6","ProdutoFormComponent_form_7_div_20_span_1_Template","ProdutoFormComponent_form_7_div_20_span_2_Template","ProdutoFormComponent_form_7_div_20_span_3_Template","ctx_r7","getVendaInferiorAoCusto","fabricante_r21","_id","ɵɵtextInterpolate2","nome","razao_social","ProdutoFormComponent_form_7_div_28_span_1_Template","ctx_r9","ctx_r10","isEditMode","ɵɵlistener","ProdutoFormComponent_form_7_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r24","ctx_r23","ɵɵnextContext","ɵɵresetView","onSubmit","ProdutoFormComponent_form_7_div_5_Template","ProdutoFormComponent_form_7_div_10_Template","ProdutoFormComponent_form_7_div_15_Template","ProdutoFormComponent_form_7_div_20_Template","ProdutoFormComponent_form_7_option_27_Template","ProdutoFormComponent_form_7_div_28_Template","ProdutoFormComponent_form_7_span_31_Template","ProdutoFormComponent_form_7_span_32_Template","ProdutoFormComponent_form_7_Template_button_click_33_listener","ctx_r25","cancel","ctx_r3","ɵɵpureFunction1","_c0","invalid","touched","tmp_3_0","tmp_4_0","tmp_5_0","tmp_6_0","tmp_7_0","tmp_8_0","tmp_9_0","fabricantes","tmp_11_0","saving","ProdutoFormComponent","constructor","fb","produtoService","fabricanteService","route","router","produtoId","loading","createForm","ngOnInit","carregarFabricantes","params","subscribe","carregarProduto","group","required","minLength","maxLength","valor_custo","min","valor_venda","categoria","fabr","getFabricantes","response","success","Array","isArray","data","setTimeout","id","getProduto","produto","patchValue","message","markFormGroupTouched","produtoData","value","updateProduto","navigate","createProduto","formGroup","Object","keys","controls","forEach","key","control","markAsTouched","valorCusto","valorVenda","ɵɵdirectiveInject","i1","FormBuilder","i2","ProdutoService","i3","FabricanteService","i4","ActivatedRoute","Router","selectors","decls","vars","consts","template","ProdutoFormComponent_Template","rf","ctx","ProdutoFormComponent_div_4_Template","ProdutoFormComponent_div_5_Template","ProdutoFormComponent_div_6_Template","ProdutoFormComponent_form_7_Template"],"sources":["/app/src/app/produtos/produto-form/produto-form.component.ts","/app/src/app/produtos/produto-form/produto-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProdutoService, Produto } from '../../services/produto.service';\nimport { FabricanteService } from '../../services/fabricante.service';\nimport { Fabricante } from '../../services/produto.service';\n\n@Component({\n  selector: 'app-produto-form',\n  templateUrl: './produto-form.component.html',\n  styleUrls: ['./produto-form.component.css']\n})\nexport class ProdutoFormComponent implements OnInit {\n  produtoForm: FormGroup;\n  isEditMode = false;\n  produtoId: string | null = null;\n  loading = false;\n  saving = false;\n  error = '';\n  successMessage = '';\n  fabricantes: Fabricante[] = [];\n\n  constructor(\n    private fb: FormBuilder,\n    private produtoService: ProdutoService,\n    private fabricanteService: FabricanteService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {\n    this.produtoForm = this.createForm();\n  }\n\n  ngOnInit(): void {\n    this.carregarFabricantes();\n    this.route.params.subscribe((params: { id: string }) => {\n      if (params['id']) {\n        this.isEditMode = true;\n        this.produtoId = params['id'];\n        this.carregarProduto(this.produtoId);\n      }\n    });\n  }\n\n  createForm(): FormGroup {\n    return this.fb.group({\n      nome: ['', [\n        Validators.required,\n        Validators.minLength(2),\n        Validators.maxLength(100)\n      ]],\n      valor_custo: ['', [\n        Validators.required,\n        Validators.min(0)\n      ]],\n      valor_venda: ['', [\n        Validators.required,\n        Validators.min(0)\n      ]],\n      categoria: ['', [\n        Validators.required\n      ]],\n      fabr: ['', [\n        Validators.required\n      ]]\n    });\n  }\n\n  carregarFabricantes(): void {\n    this.fabricanteService.getFabricantes().subscribe((response: { success: boolean; data: any[]; message?: string }) => {\n      if (response.success && Array.isArray(response.data)) {\n        this.fabricantes = response.data;\n      } else {\n        this.error = 'Erro ao carregar fabricantes. Alguns recursos podem estar indisponíveis.';\n        setTimeout(() => this.error = '', 3000);\n      }\n    });\n  }\n\n  carregarProduto(id: string | null): void {\n    if (!id) return;\n    \n    this.loading = true;\n    this.produtoService.getProduto(id).subscribe((response: { success: boolean; data: any; message?: string }) => {\n      this.loading = false;\n      if (response.success && response.data) {\n        const produto = response.data as Produto;\n        this.produtoForm.patchValue({\n          nome: produto.nome,\n          valor_custo: produto.valor_custo,\n          valor_venda: produto.valor_venda,\n          categoria: produto.categoria,\n          fabr: typeof produto.fabr === 'string' ? produto.fabr : produto.fabr._id\n        });\n      } else {\n        this.error = response.message || 'Erro ao carregar produto';\n        setTimeout(() => {\n          this.error = '';\n        }, 3000);\n      }\n    });\n  }\n\n  onSubmit(): void {\n    if (this.produtoForm.invalid) {\n      this.markFormGroupTouched(this.produtoForm);\n      return;\n    }\n\n    this.saving = true;\n    const produtoData: Produto = this.produtoForm.value;\n\n    if (this.isEditMode && this.produtoId) {\n      this.produtoService.updateProduto(this.produtoId!, produtoData).subscribe((response: { success: boolean; data: any; message?: string }) => {\n        this.saving = false;\n        if (response.success) {\n          this.successMessage = 'Produto atualizado com sucesso!';\n          setTimeout(() => {\n            this.successMessage = '';\n            this.router.navigate(['/produtos']);\n          }, 2000);\n        } else {\n          this.error = response.message || 'Erro ao atualizar produto';\n          setTimeout(() => {\n            this.error = '';\n          }, 3000);\n        }\n      });\n    } else {\n      this.produtoService.createProduto(produtoData).subscribe((response: { success: boolean; data: any; message?: string }) => {\n        this.saving = false;\n        if (response.success) {\n          this.successMessage = 'Produto criado com sucesso!';\n          setTimeout(() => {\n            this.successMessage = '';\n            this.router.navigate(['/produtos']);\n          }, 2000);\n        } else {\n          this.error = response.message || 'Erro ao criar produto';\n          setTimeout(() => {\n            this.error = '';\n          }, 3000);\n        }\n      });\n    }\n  }\n\n  // Método para marcar todos os campos como touched para mostrar validações\n  markFormGroupTouched(formGroup: FormGroup): void {\n    Object.keys(formGroup.controls).forEach(key => {\n      const control = formGroup.get(key);\n      control?.markAsTouched();\n    });\n  }\n\n  cancel(): void {\n    this.router.navigate(['/produtos']);\n  }\n\n  getVendaInferiorAoCusto(): boolean {\n    const valorCusto = this.produtoForm.get('valor_custo')?.value;\n    const valorVenda = this.produtoForm.get('valor_venda')?.value;\n    return valorVenda !== null && valorCusto !== null && valorVenda <= valorCusto;\n  }\n}\n","<div class=\"container\">\n  <div class=\"header\">\n    <h2>{{ isEditMode ? 'Editar' : 'Novo' }} Produto</h2>\n  </div>\n\n  <div *ngIf=\"loading\" class=\"loading\">\n    <div class=\"spinner\"></div>\n    <p>Carregando dados...</p>\n  </div>\n\n  <div *ngIf=\"error\" class=\"error-message\">\n    {{ error }}\n  </div>\n\n  <div *ngIf=\"successMessage\" class=\"success-message\">\n    {{ successMessage }}\n  </div>\n\n  <form [formGroup]=\"produtoForm\" (ngSubmit)=\"onSubmit()\" *ngIf=\"!loading\">\n    <div class=\"form-group\">\n      <label for=\"nome\">Nome do Produto *</label>\n      <input \n        type=\"text\" \n        id=\"nome\" \n        formControlName=\"nome\" \n        [ngClass]=\"{'invalid': produtoForm.get('nome')?.invalid && produtoForm.get('nome')?.touched}\"\n      >\n      <div class=\"validation-error\" *ngIf=\"produtoForm.get('nome')?.invalid && produtoForm.get('nome')?.touched\">\n        <span *ngIf=\"produtoForm.get('nome')?.errors?.['required']\">Nome do produto é obrigatório</span>\n        <span *ngIf=\"produtoForm.get('nome')?.errors?.['minlength']\">Nome deve ter pelo menos 2 caracteres</span>\n        <span *ngIf=\"produtoForm.get('nome')?.errors?.['maxlength']\">Nome deve ter no máximo 100 caracteres</span>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"categoria\">Categoria *</label>\n      <input \n        type=\"text\" \n        id=\"categoria\" \n        formControlName=\"categoria\" \n        [ngClass]=\"{'invalid': produtoForm.get('categoria')?.invalid && produtoForm.get('categoria')?.touched}\"\n      >\n      <div class=\"validation-error\" *ngIf=\"produtoForm.get('categoria')?.invalid && produtoForm.get('categoria')?.touched\">\n        <span *ngIf=\"produtoForm.get('categoria')?.errors?.['required']\">Categoria é obrigatória</span>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"valor_custo\">Preço de Custo (R$) *</label>\n      <input \n        type=\"number\" \n        id=\"valor_custo\" \n        formControlName=\"valor_custo\" \n        step=\"0.01\"\n        min=\"0\"\n        [ngClass]=\"{'invalid': produtoForm.get('valor_custo')?.invalid && produtoForm.get('valor_custo')?.touched}\"\n      >\n      <div class=\"validation-error\" *ngIf=\"produtoForm.get('valor_custo')?.invalid && produtoForm.get('valor_custo')?.touched\">\n        <span *ngIf=\"produtoForm.get('valor_custo')?.errors?.['required']\">Valor de custo é obrigatório</span>\n        <span *ngIf=\"produtoForm.get('valor_custo')?.errors?.['min']\">Valor de custo não pode ser negativo</span>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"valor_venda\">Preço de Venda (R$) *</label>\n      <input \n        type=\"number\" \n        id=\"valor_venda\" \n        formControlName=\"valor_venda\" \n        step=\"0.01\"\n        min=\"0\"\n        [ngClass]=\"{'invalid': (produtoForm.get('valor_venda')?.invalid && produtoForm.get('valor_venda')?.touched) || getVendaInferiorAoCusto()}\"\n      >\n      <div class=\"validation-error\" \n        *ngIf=\"(produtoForm.get('valor_venda')?.invalid && produtoForm.get('valor_venda')?.touched) || getVendaInferiorAoCusto()\">\n        <span *ngIf=\"produtoForm.get('valor_venda')?.errors?.['required']\">Valor de venda é obrigatório</span>\n        <span *ngIf=\"produtoForm.get('valor_venda')?.errors?.['min']\">Valor de venda não pode ser negativo</span>\n        <span *ngIf=\"getVendaInferiorAoCusto()\">Valor de venda deve ser maior que o valor de custo</span>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"fabr\">Fabricante *</label>\n      <select \n        id=\"fabr\" \n        formControlName=\"fabr\"\n        [ngClass]=\"{'invalid': produtoForm.get('fabr')?.invalid && produtoForm.get('fabr')?.touched}\"\n      >\n        <option value=\"\">Selecione um fabricante</option>\n        <option *ngFor=\"let fabricante of fabricantes\" [value]=\"fabricante._id\">\n          {{ fabricante.nome }} ({{ fabricante.razao_social }})\n        </option>\n      </select>\n      <div class=\"validation-error\" *ngIf=\"produtoForm.get('fabr')?.invalid && produtoForm.get('fabr')?.touched\">\n        <span *ngIf=\"produtoForm.get('fabr')?.errors?.['required']\">Fabricante é obrigatório</span>\n      </div>\n    </div>\n\n    <div class=\"form-actions\">\n      <button type=\"submit\" class=\"btn-primary\" [disabled]=\"saving\">\n        <span *ngIf=\"!saving\">{{ isEditMode ? 'Atualizar' : 'Cadastrar' }} Produto</span>\n        <span *ngIf=\"saving\">\n          <div class=\"spinner-small\"></div>\n          Salvando...\n        </span>\n      </button>\n      <button type=\"button\" class=\"btn-secondary\" (click)=\"cancel()\">Cancelar</button>\n    </div>\n  </form>\n\n  <div class=\"back-link\">\n    <a routerLink=\"/produtos\">Voltar para lista de produtos</a>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}